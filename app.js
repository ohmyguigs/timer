import {respond} from "@sveltejs/kit/ssr";
import {create_ssr_component, validate_component, missing_component, escape, subscribe, add_attribute, each, null_to_empty} from "svelte/internal";
import {setContext, afterUpdate, onMount, onDestroy} from "svelte";
import "svelte/transition";
import "svelte/animate";
import {writable} from "svelte/store";
import {tweened} from "svelte/motion";
import {linear} from "svelte/easing";
import {css as css$4} from "@emotion/css";
var root_svelte_svelte_type_style_lang = "#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}";
const css$3 = {
  code: "#svelte-announcer.svelte-1j55zn5{position:absolute;left:0;top:0;clip:rect(0 0 0 0);clip-path:inset(50%);overflow:hidden;white-space:nowrap;width:1px;height:1px}",
  map: `{"version":3,"file":"root.svelte","sources":["root.svelte"],"sourcesContent":["<!-- This file is generated by @sveltejs/kit \u2014 do not edit it! -->\\n<script>\\n\\timport { setContext, afterUpdate, onMount } from 'svelte';\\n\\n\\t// stores\\n\\texport let stores;\\n\\texport let page;\\n\\n\\texport let components;\\n\\texport let props_0 = null;\\n\\texport let props_1 = null;\\n\\texport let props_2 = null;\\n\\n\\tsetContext('__svelte__', stores);\\n\\n\\t$: stores.page.set(page);\\n\\tafterUpdate(stores.page.notify);\\n\\n\\tlet mounted = false;\\n\\tlet navigated = false;\\n\\tlet title = null;\\n\\n\\tonMount(() => {\\n\\t\\tconst unsubscribe = stores.page.subscribe(() => {\\n\\t\\t\\tif (mounted) {\\n\\t\\t\\t\\tnavigated = true;\\n\\t\\t\\t\\ttitle = document.title || 'untitled page';\\n\\t\\t\\t}\\n\\t\\t});\\n\\n\\t\\tmounted = true;\\n\\t\\treturn unsubscribe;\\n\\t});\\n</script>\\n\\n<svelte:component this={components[0]} {...(props_0 || {})}>\\n\\t{#if components[1]}\\n\\t\\t<svelte:component this={components[1]} {...(props_1 || {})}>\\n\\t\\t\\t{#if components[2]}\\n\\t\\t\\t\\t<svelte:component this={components[2]} {...(props_2 || {})}/>\\n\\t\\t\\t{/if}\\n\\t\\t</svelte:component>\\n\\t{/if}\\n</svelte:component>\\n\\n{#if mounted}\\n\\t<div id=\\"svelte-announcer\\" aria-live=\\"assertive\\" aria-atomic=\\"true\\">\\n\\t\\t{#if navigated}\\n\\t\\t\\t{title}\\n\\t\\t{/if}\\n\\t</div>\\n{/if}\\n\\n<style>\\n\\t#svelte-announcer {\\n\\t\\tposition: absolute;\\n\\t\\tleft: 0;\\n\\t\\ttop: 0;\\n\\t\\tclip: rect(0 0 0 0);\\n\\t\\tclip-path: inset(50%);\\n\\t\\toverflow: hidden;\\n\\t\\twhite-space: nowrap;\\n\\t\\twidth: 1px;\\n\\t\\theight: 1px;\\n\\t}\\n</style>"],"names":[],"mappings":"AAsDC,iBAAiB,eAAC,CAAC,AAClB,QAAQ,CAAE,QAAQ,CAClB,IAAI,CAAE,CAAC,CACP,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CACnB,SAAS,CAAE,MAAM,GAAG,CAAC,CACrB,QAAQ,CAAE,MAAM,CAChB,WAAW,CAAE,MAAM,CACnB,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,AACZ,CAAC"}`
};
const Root = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let {stores} = $$props;
  let {page} = $$props;
  let {components} = $$props;
  let {props_0 = null} = $$props;
  let {props_1 = null} = $$props;
  let {props_2 = null} = $$props;
  setContext("__svelte__", stores);
  afterUpdate(stores.page.notify);
  let mounted = false;
  let navigated = false;
  let title = null;
  onMount(() => {
    const unsubscribe = stores.page.subscribe(() => {
      if (mounted) {
        navigated = true;
        title = document.title || "untitled page";
      }
    });
    mounted = true;
    return unsubscribe;
  });
  if ($$props.stores === void 0 && $$bindings.stores && stores !== void 0)
    $$bindings.stores(stores);
  if ($$props.page === void 0 && $$bindings.page && page !== void 0)
    $$bindings.page(page);
  if ($$props.components === void 0 && $$bindings.components && components !== void 0)
    $$bindings.components(components);
  if ($$props.props_0 === void 0 && $$bindings.props_0 && props_0 !== void 0)
    $$bindings.props_0(props_0);
  if ($$props.props_1 === void 0 && $$bindings.props_1 && props_1 !== void 0)
    $$bindings.props_1(props_1);
  if ($$props.props_2 === void 0 && $$bindings.props_2 && props_2 !== void 0)
    $$bindings.props_2(props_2);
  $$result.css.add(css$3);
  {
    stores.page.set(page);
  }
  return `


${validate_component(components[0] || missing_component, "svelte:component").$$render($$result, Object.assign(props_0 || {}), {}, {
    default: () => `${components[1] ? `${validate_component(components[1] || missing_component, "svelte:component").$$render($$result, Object.assign(props_1 || {}), {}, {
      default: () => `${components[2] ? `${validate_component(components[2] || missing_component, "svelte:component").$$render($$result, Object.assign(props_2 || {}), {}, {})}` : ``}`
    })}` : ``}`
  })}

${mounted ? `<div id="${"svelte-announcer"}" aria-live="${"assertive"}" aria-atomic="${"true"}" class="${"svelte-1j55zn5"}">${navigated ? `${escape(title)}` : ``}</div>` : ``}`;
});
function set_paths(paths) {
}
function set_prerendering(value) {
}
var user_hooks = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module"
});
const template = ({head, body}) => '<!DOCTYPE html>\n<html lang="en">\n	<head>\n		<meta charset="utf-8" />\n		<link rel="icon" href="/favicon.png" />\n		<meta name="viewport" content="width=device-width, initial-scale=1" />\n		' + head + '\n	</head>\n	<body>\n		<div id="svelte">' + body + "</div>\n	</body>\n</html>\n";
let options = null;
function init(settings) {
  set_paths(settings.paths);
  set_prerendering(settings.prerendering || false);
  options = {
    amp: false,
    dev: false,
    entry: {
      file: "/timer/_app/start-88c6040c.js",
      css: ["/timer/_app/assets/start-a8cd1609.css", "/timer/_app/assets/vendor-e76d77c5.css"],
      js: ["/timer/_app/start-88c6040c.js", "/timer/_app/chunks/vendor-a9a9a7ac.js"]
    },
    fetched: void 0,
    floc: false,
    get_component_path: (id) => "/timer/_app/" + entry_lookup[id],
    get_stack: (error2) => String(error2),
    handle_error: (error2) => {
      console.error(error2.stack);
      error2.stack = options.get_stack(error2);
    },
    hooks: get_hooks(user_hooks),
    hydrate: true,
    initiator: void 0,
    load_component,
    manifest,
    paths: settings.paths,
    read: settings.read,
    root: Root,
    router: true,
    ssr: true,
    target: "#svelte",
    template,
    trailing_slash: "never"
  };
}
const empty = () => ({});
const manifest = {
  assets: [{"file": "favicon.png", "size": 1571, "type": "image/png"}],
  layout: ".svelte-kit/build/components/layout.svelte",
  error: ".svelte-kit/build/components/error.svelte",
  routes: [
    {
      type: "page",
      pattern: /^\/$/,
      params: empty,
      a: [".svelte-kit/build/components/layout.svelte", "src/routes/index.svelte"],
      b: [".svelte-kit/build/components/error.svelte"]
    }
  ]
};
const get_hooks = (hooks) => ({
  getSession: hooks.getSession || (() => ({})),
  handle: hooks.handle || (({request, resolve}) => resolve(request))
});
const module_lookup = {
  ".svelte-kit/build/components/layout.svelte": () => Promise.resolve().then(function() {
    return layout;
  }),
  ".svelte-kit/build/components/error.svelte": () => Promise.resolve().then(function() {
    return error;
  }),
  "src/routes/index.svelte": () => Promise.resolve().then(function() {
    return index;
  })
};
const metadata_lookup = {".svelte-kit/build/components/layout.svelte": {"entry": "/timer/_app/layout.svelte-d466ae67.js", "css": ["/timer/_app/assets/vendor-e76d77c5.css"], "js": ["/timer/_app/layout.svelte-d466ae67.js", "/timer/_app/chunks/vendor-a9a9a7ac.js"], "styles": null}, ".svelte-kit/build/components/error.svelte": {"entry": "/timer/_app/error.svelte-65111503.js", "css": ["/timer/_app/assets/vendor-e76d77c5.css"], "js": ["/timer/_app/error.svelte-65111503.js", "/timer/_app/chunks/vendor-a9a9a7ac.js"], "styles": null}, "src/routes/index.svelte": {"entry": "/timer/_app/pages/index.svelte-06d1a2f3.js", "css": ["/timer/_app/assets/pages/index.svelte-ee6b1d05.css", "/timer/_app/assets/vendor-e76d77c5.css"], "js": ["/timer/_app/pages/index.svelte-06d1a2f3.js", "/timer/_app/chunks/vendor-a9a9a7ac.js"], "styles": null}};
async function load_component(file) {
  return {
    module: await module_lookup[file](),
    ...metadata_lookup[file]
  };
}
init({paths: {"base": "/timer", "assets": "/timer"}});
function render(request, {
  prerender
} = {}) {
  const host = request.headers["host"];
  return respond({...request, host}, options, {prerender});
}
const Layout = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  return `${slots.default ? slots.default({}) : ``}`;
});
var layout = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": Layout
});
function load({error: error2, status}) {
  return {props: {error: error2, status}};
}
const Error = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let {status} = $$props;
  let {error: error2} = $$props;
  if ($$props.status === void 0 && $$bindings.status && status !== void 0)
    $$bindings.status(status);
  if ($$props.error === void 0 && $$bindings.error && error2 !== void 0)
    $$bindings.error(error2);
  return `<h1>${escape(status)}</h1>

<p>${escape(error2.message)}</p>


${error2.stack ? `<pre>${escape(error2.stack)}</pre>` : ``}`;
});
var error = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": Error,
  load
});
const defaults = {
  duration: 4e3,
  initial: 1,
  next: 0,
  pausable: false,
  dismissable: true,
  reversed: false,
  intro: {x: 256}
};
const createToast = () => {
  const {subscribe: subscribe2, update} = writable([]);
  let count = 0;
  const options2 = {};
  const _obj = (obj) => obj instanceof Object;
  const push = (msg, opts = {}) => {
    const param = {target: "default", ..._obj(msg) ? msg : {...opts, msg}};
    const conf = options2[param.target] || {};
    const entry = {
      ...defaults,
      ...conf,
      ...param,
      theme: {...conf.theme, ...param.theme},
      classes: [...conf.classes || [], ...param.classes || []],
      id: ++count
    };
    update((n) => entry.reversed ? [...n, entry] : [entry, ...n]);
    return count;
  };
  const pop = (id) => {
    update((n) => {
      if (!n.length || id === 0)
        return [];
      if (_obj(id))
        return n.filter((i) => id(i));
      const target = id || Math.max(...n.map((i) => i.id));
      return n.filter((i) => i.id !== target);
    });
  };
  const set = (id, opts = {}) => {
    const param = _obj(id) ? {...id} : {...opts, id};
    update((n) => {
      const idx = n.findIndex((i) => i.id === param.id);
      if (idx > -1) {
        n[idx] = {...n[idx], ...param};
      }
      return n;
    });
  };
  const _init = (target = "default", opts = {}) => {
    options2[target] = opts;
    return options2;
  };
  return {subscribe: subscribe2, push, pop, set, _init};
};
const toast = createToast();
var ToastItem_svelte_svelte_type_style_lang = "._toastItem.svelte-5er0t9{width:var(--toastWidth, 16rem);height:var(--toastHeight, auto);min-height:var(--toastMinHeight, 3.5rem);margin:var(--toastMargin, 0 0 0.5rem 0);padding:var(--toastPadding, 0);background:var(--toastBackground, rgba(66, 66, 66, 0.9));color:var(--toastColor, #fff);box-shadow:var(\n    --toastBoxShadow,\n    0 4px 6px -1px rgba(0, 0, 0, 0.1),\n    0 2px 4px -1px rgba(0, 0, 0, 0.06)\n  );border:var(--toastBorder, none);border-radius:var(--toastBorderRadius, 0.125rem);position:relative;display:flex;flex-direction:row;align-items:center;overflow:hidden;will-change:transform, opacity;-webkit-tap-highlight-color:transparent}._toastMsg.svelte-5er0t9{padding:var(--toastMsgPadding, 0.75rem 0.5rem);flex:1 1 0%}.pe.svelte-5er0t9,._toastMsg.svelte-5er0t9 a{pointer-events:auto}._toastBtn.svelte-5er0t9{width:2rem;height:100%;font:1rem sans-serif;display:flex;align-items:center;justify-content:center;cursor:pointer;outline:none}._toastBar.svelte-5er0t9{top:var(--toastBarTop, auto);right:var(--toastBarRight, auto);bottom:var(--toastBarBottom, 0);left:var(--toastBarLeft, 0);height:var(--toastBarHeight, 6px);width:var(--toastBarWidth, 100%);position:absolute;display:block;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:transparent;pointer-events:none}._toastBar.svelte-5er0t9::-webkit-progress-bar{background:transparent}._toastBar.svelte-5er0t9::-webkit-progress-value{background:var(--toastProgressBackground, var(--toastBarBackground, rgba(33, 150, 243, 0.75)))}._toastBar.svelte-5er0t9::-moz-progress-bar{background:var(--toastProgressBackground, var(--toastBarBackground, rgba(33, 150, 243, 0.75)))}";
const css$2 = {
  code: "._toastItem.svelte-5er0t9{width:var(--toastWidth, 16rem);height:var(--toastHeight, auto);min-height:var(--toastMinHeight, 3.5rem);margin:var(--toastMargin, 0 0 0.5rem 0);padding:var(--toastPadding, 0);background:var(--toastBackground, rgba(66, 66, 66, 0.9));color:var(--toastColor, #fff);box-shadow:var(\n    --toastBoxShadow,\n    0 4px 6px -1px rgba(0, 0, 0, 0.1),\n    0 2px 4px -1px rgba(0, 0, 0, 0.06)\n  );border:var(--toastBorder, none);border-radius:var(--toastBorderRadius, 0.125rem);position:relative;display:flex;flex-direction:row;align-items:center;overflow:hidden;will-change:transform, opacity;-webkit-tap-highlight-color:transparent}._toastMsg.svelte-5er0t9{padding:var(--toastMsgPadding, 0.75rem 0.5rem);flex:1 1 0%}.pe.svelte-5er0t9,._toastMsg.svelte-5er0t9 a{pointer-events:auto}._toastBtn.svelte-5er0t9{width:2rem;height:100%;font:1rem sans-serif;display:flex;align-items:center;justify-content:center;cursor:pointer;outline:none}._toastBar.svelte-5er0t9{top:var(--toastBarTop, auto);right:var(--toastBarRight, auto);bottom:var(--toastBarBottom, 0);left:var(--toastBarLeft, 0);height:var(--toastBarHeight, 6px);width:var(--toastBarWidth, 100%);position:absolute;display:block;-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;background:transparent;pointer-events:none}._toastBar.svelte-5er0t9::-webkit-progress-bar{background:transparent}._toastBar.svelte-5er0t9::-webkit-progress-value{background:var(--toastProgressBackground, var(--toastBarBackground, rgba(33, 150, 243, 0.75)))}._toastBar.svelte-5er0t9::-moz-progress-bar{background:var(--toastProgressBackground, var(--toastBarBackground, rgba(33, 150, 243, 0.75)))}",
  map: `{"version":3,"file":"ToastItem.svelte","sources":["ToastItem.svelte"],"sourcesContent":["<script>\\nimport { onDestroy } from 'svelte'\\nimport { tweened } from 'svelte/motion'\\nimport { linear } from 'svelte/easing'\\nimport { toast } from './stores.js'\\n\\nexport let item\\n\\nconst progress = tweened(item.initial, { duration: item.duration, easing: linear })\\nconst close = () => toast.pop(item.id)\\nconst autoclose = () => {\\n  if ($progress === 1 || $progress === 0) {\\n    close()\\n  }\\n}\\nlet next = item.initial\\nlet prev = next\\nlet paused = false\\n\\n$: if (next !== item.next) {\\n  next = item.next\\n  prev = $progress\\n  paused = false\\n  progress.set(next).then(autoclose)\\n}\\n\\nconst pause = () => {\\n  if (item.pausable && !paused && $progress !== next) {\\n    progress.set($progress, { duration: 0 })\\n    paused = true\\n  }\\n}\\n\\nconst resume = () => {\\n  if (paused) {\\n    const d = item.duration\\n    const duration = d - d * (($progress - prev) / (next - prev))\\n    progress.set(next, { duration }).then(autoclose)\\n    paused = false\\n  }\\n}\\n\\nconst getProps = () => {\\n  const { props = {}, sendIdTo } = item.component\\n  if (sendIdTo) {\\n    props[sendIdTo] = item.id\\n  }\\n  return props\\n}\\n\\n// \`progress\` has been renamed to \`next\`; shim included for backward compatibility, to remove in next major\\n$: if (typeof item.progress !== 'undefined') {\\n  item.next = item.progress\\n}\\n\\nonDestroy(() => {\\n  if (typeof item.onpop === 'function') {\\n    item.onpop(item.id)\\n  }\\n})\\n</script>\\n\\n<style>\\n._toastItem {\\n  width: var(--toastWidth, 16rem);\\n  height: var(--toastHeight, auto);\\n  min-height: var(--toastMinHeight, 3.5rem);\\n  margin: var(--toastMargin, 0 0 0.5rem 0);\\n  padding: var(--toastPadding, 0);\\n  background: var(--toastBackground, rgba(66, 66, 66, 0.9));\\n  color: var(--toastColor, #fff);\\n  box-shadow: var(\\n    --toastBoxShadow,\\n    0 4px 6px -1px rgba(0, 0, 0, 0.1),\\n    0 2px 4px -1px rgba(0, 0, 0, 0.06)\\n  );\\n  border: var(--toastBorder, none);\\n  border-radius: var(--toastBorderRadius, 0.125rem);\\n  position: relative;\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  overflow: hidden;\\n  will-change: transform, opacity;\\n  -webkit-tap-highlight-color: transparent;\\n}\\n._toastMsg {\\n  padding: var(--toastMsgPadding, 0.75rem 0.5rem);\\n  flex: 1 1 0%;\\n}\\n.pe,\\n._toastMsg :global(a) {\\n  pointer-events: auto;\\n}\\n._toastBtn {\\n  width: 2rem;\\n  height: 100%;\\n  font: 1rem sans-serif;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  cursor: pointer;\\n  outline: none;\\n}\\n._toastBar {\\n  top: var(--toastBarTop, auto);\\n  right: var(--toastBarRight, auto);\\n  bottom: var(--toastBarBottom, 0);\\n  left: var(--toastBarLeft, 0);\\n  height: var(--toastBarHeight, 6px);\\n  width: var(--toastBarWidth, 100%);\\n  position: absolute;\\n  display: block;\\n  -webkit-appearance: none;\\n  -moz-appearance: none;\\n  appearance: none;\\n  border: none;\\n  background: transparent;\\n  pointer-events: none;\\n}\\n._toastBar::-webkit-progress-bar {\\n  background: transparent;\\n}\\n/* \`--toastProgressBackground\` renamed to \`--toastBarBackground\`; override included for backward compatibility */\\n._toastBar::-webkit-progress-value {\\n  background: var(--toastProgressBackground, var(--toastBarBackground, rgba(33, 150, 243, 0.75)));\\n}\\n._toastBar::-moz-progress-bar {\\n  background: var(--toastProgressBackground, var(--toastBarBackground, rgba(33, 150, 243, 0.75)));\\n}\\n</style>\\n\\n<div class=\\"_toastItem\\" class:pe={item.pausable} on:mouseenter={pause} on:mouseleave={resume}>\\n  <div role=\\"status\\" class=\\"_toastMsg\\" class:pe={item.component}>\\n    {#if item.component}\\n      <svelte:component this={item.component.src} {...getProps()} />\\n    {:else}\\n      {@html item.msg}\\n    {/if}\\n  </div>\\n  {#if item.dismissable}\\n    <div class=\\"_toastBtn pe\\" role=\\"button\\" tabindex=\\"-1\\" on:click={close}>\u2715</div>\\n  {/if}\\n  <progress class=\\"_toastBar\\" value={$progress} />\\n</div>\\n"],"names":[],"mappings":"AA+DA,WAAW,cAAC,CAAC,AACX,KAAK,CAAE,IAAI,YAAY,CAAC,MAAM,CAAC,CAC/B,MAAM,CAAE,IAAI,aAAa,CAAC,KAAK,CAAC,CAChC,UAAU,CAAE,IAAI,gBAAgB,CAAC,OAAO,CAAC,CACzC,MAAM,CAAE,IAAI,aAAa,CAAC,aAAa,CAAC,CACxC,OAAO,CAAE,IAAI,cAAc,CAAC,EAAE,CAAC,CAC/B,UAAU,CAAE,IAAI,iBAAiB,CAAC,sBAAsB,CAAC,CACzD,KAAK,CAAE,IAAI,YAAY,CAAC,KAAK,CAAC,CAC9B,UAAU,CAAE;IACV,gBAAgB,CAAC;;;EAGnB,CAAC,CACD,MAAM,CAAE,IAAI,aAAa,CAAC,KAAK,CAAC,CAChC,aAAa,CAAE,IAAI,mBAAmB,CAAC,SAAS,CAAC,CACjD,QAAQ,CAAE,QAAQ,CAClB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,WAAW,CAAE,MAAM,CACnB,QAAQ,CAAE,MAAM,CAChB,WAAW,CAAE,SAAS,CAAC,CAAC,OAAO,CAC/B,2BAA2B,CAAE,WAAW,AAC1C,CAAC,AACD,UAAU,cAAC,CAAC,AACV,OAAO,CAAE,IAAI,iBAAiB,CAAC,eAAe,CAAC,CAC/C,IAAI,CAAE,CAAC,CAAC,CAAC,CAAC,EAAE,AACd,CAAC,AACD,iBAAG,CACH,wBAAU,CAAC,AAAQ,CAAC,AAAE,CAAC,AACrB,cAAc,CAAE,IAAI,AACtB,CAAC,AACD,UAAU,cAAC,CAAC,AACV,KAAK,CAAE,IAAI,CACX,MAAM,CAAE,IAAI,CACZ,IAAI,CAAE,IAAI,CAAC,UAAU,CACrB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,CACvB,MAAM,CAAE,OAAO,CACf,OAAO,CAAE,IAAI,AACf,CAAC,AACD,UAAU,cAAC,CAAC,AACV,GAAG,CAAE,IAAI,aAAa,CAAC,KAAK,CAAC,CAC7B,KAAK,CAAE,IAAI,eAAe,CAAC,KAAK,CAAC,CACjC,MAAM,CAAE,IAAI,gBAAgB,CAAC,EAAE,CAAC,CAChC,IAAI,CAAE,IAAI,cAAc,CAAC,EAAE,CAAC,CAC5B,MAAM,CAAE,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAClC,KAAK,CAAE,IAAI,eAAe,CAAC,KAAK,CAAC,CACjC,QAAQ,CAAE,QAAQ,CAClB,OAAO,CAAE,KAAK,CACd,kBAAkB,CAAE,IAAI,CACxB,eAAe,CAAE,IAAI,CACrB,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,WAAW,CACvB,cAAc,CAAE,IAAI,AACtB,CAAC,AACD,wBAAU,sBAAsB,AAAC,CAAC,AAChC,UAAU,CAAE,WAAW,AACzB,CAAC,AAED,wBAAU,wBAAwB,AAAC,CAAC,AAClC,UAAU,CAAE,IAAI,yBAAyB,CAAC,oDAAoD,CAAC,AACjG,CAAC,AACD,wBAAU,mBAAmB,AAAC,CAAC,AAC7B,UAAU,CAAE,IAAI,yBAAyB,CAAC,oDAAoD,CAAC,AACjG,CAAC"}`
};
const ToastItem = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $progress, $$unsubscribe_progress;
  let {item} = $$props;
  const progress = tweened(item.initial, {duration: item.duration, easing: linear});
  $$unsubscribe_progress = subscribe(progress, (value) => $progress = value);
  const close = () => toast.pop(item.id);
  const autoclose = () => {
    if ($progress === 1 || $progress === 0) {
      close();
    }
  };
  let next = item.initial;
  const getProps = () => {
    const {props = {}, sendIdTo} = item.component;
    if (sendIdTo) {
      props[sendIdTo] = item.id;
    }
    return props;
  };
  onDestroy(() => {
    if (typeof item.onpop === "function") {
      item.onpop(item.id);
    }
  });
  if ($$props.item === void 0 && $$bindings.item && item !== void 0)
    $$bindings.item(item);
  $$result.css.add(css$2);
  {
    if (typeof item.progress !== "undefined") {
      item.next = item.progress;
    }
  }
  {
    if (next !== item.next) {
      next = item.next;
      progress.set(next).then(autoclose);
    }
  }
  $$unsubscribe_progress();
  return `<div class="${["_toastItem svelte-5er0t9", item.pausable ? "pe" : ""].join(" ").trim()}"><div role="${"status"}" class="${["_toastMsg svelte-5er0t9", item.component ? "pe" : ""].join(" ").trim()}">${item.component ? `${validate_component(item.component.src || missing_component, "svelte:component").$$render($$result, Object.assign(getProps()), {}, {})}` : `${item.msg}`}</div>
  ${item.dismissable ? `<div class="${"_toastBtn pe svelte-5er0t9"}" role="${"button"}" tabindex="${"-1"}">\u2715</div>` : ``}
  <progress class="${"_toastBar svelte-5er0t9"}"${add_attribute("value", $progress, 0)}></progress></div>`;
});
var SvelteToast_svelte_svelte_type_style_lang = "._toastContainer.svelte-7xr3c1{top:var(--toastContainerTop, 1.5rem);right:var(--toastContainerRight, 2rem);bottom:var(--toastContainerBottom, auto);left:var(--toastContainerLeft, auto);position:fixed;margin:0;padding:0;list-style-type:none;pointer-events:none;z-index:9999}";
const css = {
  code: "._toastContainer.svelte-7xr3c1{top:var(--toastContainerTop, 1.5rem);right:var(--toastContainerRight, 2rem);bottom:var(--toastContainerBottom, auto);left:var(--toastContainerLeft, auto);position:fixed;margin:0;padding:0;list-style-type:none;pointer-events:none;z-index:9999}",
  map: `{"version":3,"file":"SvelteToast.svelte","sources":["SvelteToast.svelte"],"sourcesContent":["<script>\\nimport { fade, fly } from 'svelte/transition'\\nimport { flip } from 'svelte/animate'\\nimport { toast } from './stores.js'\\nimport ToastItem from './ToastItem.svelte'\\n\\nexport let options = {}\\nexport let target = 'default'\\n\\n$: toast._init(target, options)\\n\\nlet items\\n$: items = $toast.filter((i) => i.target === target)\\n\\nconst getCss = (theme) => Object.keys(theme).reduce((a, c) => \`\${a}\${c}:\${theme[c]};\`, '')\\n</script>\\n\\n<style>\\n._toastContainer {\\n  top: var(--toastContainerTop, 1.5rem);\\n  right: var(--toastContainerRight, 2rem);\\n  bottom: var(--toastContainerBottom, auto);\\n  left: var(--toastContainerLeft, auto);\\n  position: fixed;\\n  margin: 0;\\n  padding: 0;\\n  list-style-type: none;\\n  pointer-events: none;\\n  z-index: 9999;\\n}\\n</style>\\n\\n<ul class=\\"_toastContainer\\">\\n  {#each items as item (item.id)}\\n    <li\\n      class={item.classes.join(' ')}\\n      in:fly={item.intro}\\n      out:fade\\n      animate:flip={{ duration: 200 }}\\n      style={getCss(item.theme)}\\n    >\\n      <ToastItem {item} />\\n    </li>\\n  {/each}\\n</ul>\\n"],"names":[],"mappings":"AAkBA,gBAAgB,cAAC,CAAC,AAChB,GAAG,CAAE,IAAI,mBAAmB,CAAC,OAAO,CAAC,CACrC,KAAK,CAAE,IAAI,qBAAqB,CAAC,KAAK,CAAC,CACvC,MAAM,CAAE,IAAI,sBAAsB,CAAC,KAAK,CAAC,CACzC,IAAI,CAAE,IAAI,oBAAoB,CAAC,KAAK,CAAC,CACrC,QAAQ,CAAE,KAAK,CACf,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CAAC,CACV,eAAe,CAAE,IAAI,CACrB,cAAc,CAAE,IAAI,CACpB,OAAO,CAAE,IAAI,AACf,CAAC"}`
};
const SvelteToast = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let $toast, $$unsubscribe_toast;
  $$unsubscribe_toast = subscribe(toast, (value) => $toast = value);
  let {options: options2 = {}} = $$props;
  let {target = "default"} = $$props;
  let items;
  const getCss = (theme) => Object.keys(theme).reduce((a, c) => `${a}${c}:${theme[c]};`, "");
  if ($$props.options === void 0 && $$bindings.options && options2 !== void 0)
    $$bindings.options(options2);
  if ($$props.target === void 0 && $$bindings.target && target !== void 0)
    $$bindings.target(target);
  $$result.css.add(css);
  {
    toast._init(target, options2);
  }
  items = $toast.filter((i) => i.target === target);
  $$unsubscribe_toast();
  return `<ul class="${"_toastContainer svelte-7xr3c1"}">${each(items, (item) => `<li class="${escape(null_to_empty(item.classes.join(" "))) + " svelte-7xr3c1"}"${add_attribute("style", getCss(item.theme), 0)}>${validate_component(ToastItem, "ToastItem").$$render($$result, {item}, {}, {})}
    </li>`)}</ul>`;
});
var index_svelte_svelte_type_style_lang = "body{margin:0;padding:0;font-family:'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif}.pip__wrapper.svelte-ie27fv{position:fixed;bottom:42px;right:42px;width:300px;height:150px;z-index:-1;background-color:rgba(0, 0, 0, 0.5)}.toast__wrapper.svelte-ie27fv{--toastWidth:420px;--toastContainerTop:auto;--toastContainerLeft:42px;--toastContainerBottom:42px;max-width:400px}.index__container.svelte-ie27fv{display:flex;position:relative;overflow:hidden;height:100vh;width:100%;text-align:center;background-color:#37056b}.index__subcontainer.svelte-ie27fv{position:absolute;height:100vh;width:100%}.index__frontpanel.svelte-ie27fv{display:flex;align-items:center;height:100%}.index__text_minutes.svelte-ie27fv{position:absolute;color:#979899}.index__text_separator.svelte-ie27fv{position:absolute;transform:translate(-50%, 0)}";
const css$1 = {
  code: "body{margin:0;padding:0;font-family:'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif}.pip__wrapper.svelte-ie27fv{position:fixed;bottom:42px;right:42px;width:300px;height:150px;z-index:-1;background-color:rgba(0, 0, 0, 0.5)}.toast__wrapper.svelte-ie27fv{--toastWidth:420px;--toastContainerTop:auto;--toastContainerLeft:42px;--toastContainerBottom:42px;max-width:400px}.index__container.svelte-ie27fv{display:flex;position:relative;overflow:hidden;height:100vh;width:100%;text-align:center;background-color:#37056b}.index__subcontainer.svelte-ie27fv{position:absolute;height:100vh;width:100%}.index__frontpanel.svelte-ie27fv{display:flex;align-items:center;height:100%}.index__text_minutes.svelte-ie27fv{position:absolute;color:#979899}.index__text_separator.svelte-ie27fv{position:absolute;transform:translate(-50%, 0)}",
  map: `{"version":3,"file":"index.svelte","sources":["index.svelte"],"sourcesContent":["<!-- src/routes/index.svelte -->\\n<script>\\n  import { onMount, onDestroy } from 'svelte';\\n  import { SvelteToast, toast } from '@zerodevx/svelte-toast';\\n  import { css } from '@emotion/css';\\n  export const ssr = false;\\n\\n  let minutes = 10;\\n  let seconds = 0;\\n  let initialMinutes = 10;\\n  let initialSeconds = 0;\\n  let editing = 'minutes';\\n  let intervalReference = null;\\n  let timeEnded = false;\\n\\n  const stringifyIntWithTwoDigits = (int) => {\\n    return ('0' + int).slice(-2)\\n  }\\n\\n  const startTimer = () => {\\n    if (!intervalReference) {\\n      intervalReference = setInterval(() => {\\n        if (timeEnded) {\\n          if (seconds === 59) {\\n            seconds = 0;\\n            minutes = minutes + 1;\\n          } else {\\n            seconds = seconds +1;\\n          }\\n        } else {\\n          if (seconds === 0) {\\n            const shouldTimeEnded = !!intervalReference && minutes === 0;\\n            seconds = shouldTimeEnded ? 0 : 59;\\n            minutes = shouldTimeEnded ? 0 : minutes - 1;\\n            timeEnded = shouldTimeEnded;\\n            if (shouldTimeEnded) {\\n              toast.push({\\n                ...toastDefaultOptions,\\n                msg: 'Acaou o tempo, mas fica! Vai ter bolo! \u{1F370}',\\n              })\\n            }\\n          } else {\\n            seconds = seconds - 1;\\n          }\\n        }\\n      }, 1000);\\n\\n      initialMinutes = minutes;\\n      initialSeconds = seconds;\\n    }\\n  };\\n\\n  const pauseTimer = () => {\\n    clearInterval(intervalReference);\\n    intervalReference = null;\\n  };\\n\\n  const resetTimer = () => {\\n    clearInterval(intervalReference);\\n    intervalReference = null;\\n    timeEnded = false;\\n    minutes = initialMinutes;\\n    seconds = initialSeconds;\\n  };\\n\\n  const toggleEdit = (_editing) => {\\n    editing = _editing;\\n    console.log(\`now editing \${editing}\`)\\n  };\\n\\n  const updateMinutes = (_shouldIncrement) => {\\n    if (minutes < 99 && minutes > 0) {\\n        minutes = _shouldIncrement ? minutes + 1 : minutes - 1\\n    } else if (minutes <= 0 && _shouldIncrement) {\\n      minutes = minutes + 1;\\n      timeEnded = false;\\n    } else if (minutes === 99 && !_shouldIncrement) {\\n      minutes = minutes - 1;\\n    }\\n  };\\n\\n  const updateSeconds = (_shouldIncrement) => {\\n    if (seconds < 59 && seconds > 0) {\\n      seconds = _shouldIncrement ? seconds + 1 : seconds - 1;\\n    } else if (seconds === 0 && _shouldIncrement) {\\n      seconds = seconds + 1;\\n    } else if (seconds === 59 && !_shouldIncrement) {\\n      seconds = seconds - 1;\\n    }\\n  };\\n\\n  const setDemoPreset = (m) => {\\n    minutes = m;\\n    initialMinutes = m;\\n    seconds = 0;\\n    initialSeconds = 0;\\n    timeEnded = false;\\n  };\\n\\n  // for swipes\\n  let xDown = null;\\n  let yDown = null;\\n  // for animations\\n  const TEXT_COLOR = '#ffffff';\\n  const OLX_VERDO = '#8ce563';\\n  const OLX_LARANJO = '#f28000';\\n  const BACKPANEL_COLOR = Math.random() < 0.5 ? OLX_LARANJO : OLX_VERDO;\\n  const UNSELECTED_TEXT_COLOR = '#999999';\\n  const BLINK_COLOR = '#e22828';\\n  // for toasts\\n  const toastDefaultOptions = { duration: 4200, reversed: true, intro: { y: 42 } }\\n\\n  onMount(async () => {\\n    document.addEventListener('keyup', (event) => {\\n      const { key } = event;\\n      if (key === ' ' || key === 'Enter') {\\n        intervalReference ? pauseTimer() : startTimer();\\n      } else if (key === 'ArrowRight') {\\n        toggleEdit('seconds');\\n      } else if (key === 'ArrowLeft') {\\n        toggleEdit('minutes');\\n      } else if (key === 'ArrowUp') {\\n        editing === 'minutes' ? updateMinutes(true) : updateSeconds(true);\\n      } else if (key === 'ArrowDown') {\\n        editing === 'minutes' ? updateMinutes(false) : updateSeconds(false);\\n      } else if (key === 'r' || key === 'R') {\\n        resetTimer();\\n      } else if (key === '1') {\\n        setDemoPreset(5);\\n      } else if (key === '2') {\\n        setDemoPreset(10);\\n      } else if (key === '3') {\\n        setDemoPreset(15);\\n      } else if (key === '4') {\\n        setDemoPreset(20);\\n      } else if (key === 'b') {\\n        toast.push({\\n          ...toastDefaultOptions,\\n          msg: 'Fica! Vai ter bolo! \u{1F370}',\\n        })\\n      } else if (key === 's') {\\n        navigator.mediaDevices.getDisplayMedia({\\n          audio: false,\\n          video: {\\n            width: 300,\\n            height: 150,\\n          },\\n        })\\n        .then(stream => {\\n          console.log('started stream! \u{1F389}')\\n          // pipStream = stream;\\n          const pipStreamer = document.getElementById('pip-streamer')\\n          pipStreamer.srcObject = stream;\\n          // DUMP\\n          // const videoTrack = pipStreamer.srcObject.getVideoTracks()[0];\\n          // console.info(\\"Track settings:\\");\\n          // console.info(JSON.stringify(videoTrack.getSettings(), null, 2));\\n          // console.info(\\"Track constraints:\\");\\n          // console.info(JSON.stringify(videoTrack.getConstraints(), null, 2));\\n        })\\n        .catch(err => {\\n          console.log('Error in pip stream: ', err)\\n          toast.push({\\n            ...toastDefaultOptions,\\n            msg: 'Erro entrando no PIP',\\n          })\\n        });\\n      } else if (key === 'p') {\\n        if (document.pictureInPictureElement) {\\n            document.exitPictureInPicture();\\n        } else {\\n          if (document.pictureInPictureEnabled) {\\n            const pipStreamer = document.getElementById('pip-streamer')\\n            pipStreamer.requestPictureInPicture();\\n          }\\n        }\\n      }\\n    });\\n\\n    document.addEventListener('click', () => {\\n      console.log('click!')\\n      if (intervalReference) {\\n        pauseTimer();\\n      } else {\\n        startTimer();\\n      }\\n    });\\n\\n    document.addEventListener('dblclick', () => {\\n      console.log('dblclick!')\\n      if (intervalReference) {\\n        resetTimer();\\n      } else {\\n        startTimer();\\n      }\\n    });\\n    \\n    document.addEventListener('touchstart', (e) => {\\n      console.log('touch start!')\\n      const firstTouch = e.touches[0];\\n      console.log('first touch X ', firstTouch.clientX, ' former X ', xDown)\\n      console.log('first touch Y ', firstTouch.clientY, ' former Y ', yDown)\\n      xDown = firstTouch.clientX;\\n      yDown = firstTouch.clientY;\\n    }, false);\\n    document.addEventListener('touchmove', (evt) => {\\n      console.log('touch move!');\\n      if ( ! xDown || ! yDown ) {\\n        return;\\n      }\\n\\n      var xUp = evt.touches[0].clientX;\\n      var yUp = evt.touches[0].clientY;\\n\\n      var xDiff = xDown - xUp;\\n      var yDiff = yDown - yUp;\\n\\n      if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {\\n          if ( xDiff > 0 ) {\\n              /* right swipe */\\n              toggleEdit('seconds');\\n          } else {\\n              /* left swipe */\\n              toggleEdit('minutes');\\n          }\\n      } else {\\n          if ( yDiff > 0 ) {\\n              /* down swipe */\\n              editing === 'minutes' ? updateMinutes(false) : updateSeconds(false);\\n          } else { \\n              /* up swipe */\\n              editing === 'minutes' ? updateMinutes(true) : updateSeconds(true);\\n          }\\n      }\\n      /* reset values */\\n      xDown = null;\\n      yDown = null;  \\n    }, false);\\n\\n    // UX toast\\n    const firsToastTime = 420 // ms\\n    setTimeout(() => {\\n      toast.push({\\n        ...toastDefaultOptions,\\n        msg: 'Para come\xE7ar ou pausar<br/> Use \\"Enter\\", \\"Barra de espa\xE7o\\" ou \\"clique/toque\\"',\\n      })\\n    }, firsToastTime);\\n    setTimeout(() => {\\n      toast.push({\\n        ...toastDefaultOptions,\\n        duration: 5500,\\n        msg: 'Para editar, <strong>primeiro pause</strong>,<br/>ent\xE3o use as setas no teclado, swipe no celular<br/>ou no teclado os atalhos 1, 2, 3 ou 4',\\n      })\\n    }, firsToastTime + toastDefaultOptions.duration);\\n  });\\n\\n  onDestroy(() => toast.pop(0));\\n\\n  $: totalTime = (initialMinutes * 60) + initialSeconds\\n  $: remainingTime = (minutes * 60) + seconds\\n  $: isRunning = !!intervalReference\\n\\n  // wtf is this? there is style in my js...\\n  // sorry, but it's for the sake of animations\\n\\n  // anima\xE7\xF5es do fundo do contador\\n  $: index__backpanel = css\`\\n    display: flex;\\n    position: absolute;\\n    height: 100%;\\n    width: 100%;\\n    background-color: \${BACKPANEL_COLOR};\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    left: 0;\\n    transform: \${isRunning && !timeEnded ? \`scale(1, \${remainingTime / totalTime})\` : 'scale(1,0)'};\\n    transform-origin: 50% 100%;\\n    transition: transform 1s, background 1s;\\n  \`;\\n  $: index__text_wrapper = css\`\\n    text-align: center;\\n    margin-right: auto;\\n    margin-left: auto;\\n    font-weight: 600;\\n    color: \${TEXT_COLOR};\\n    height: 1em;\\n    font-size: 25.5vw;\\n    position: absolute;\\n    left: 50%;\\n    margin-top: -0.1em;\\n    @keyframes pink-blink {\\n        0% {color: white;}\\n        50% {color: \${BLINK_COLOR};}\\n      100%{color: white;}\\n    }\\n    \${timeEnded && isRunning ? 'animation: pink-blink 1s steps(5, start) infinite;' : ''}\\n  \`;\\n  $: index__text_minutes = css\`\\n    position: absolute;\\n    color: \${!isRunning && editing === 'seconds' ? UNSELECTED_TEXT_COLOR : ''};\\n    right: 0.15em;\\n  \`;\\n  $: index__text_seconds = css\`\\n    position: absolute;\\n    color: \${!isRunning && editing === 'minutes' ? UNSELECTED_TEXT_COLOR : ''};\\n    left: 0.15em;\\n  \`;\\n</script>\\n\\n<svelte:head>\\n  <title>timer</title>\\n  <meta name=\\"description\\" content=\\"Este \xE9 um contador de minutos visual usado para ajudar em reuni\xF5es.\\">\\n</svelte:head>\\n\\n<div class=\\"index__container\\">\\n  <div class={index__backpanel} />\\n  <div class=\\"index__subcontainer\\">\\n    <div class=\\"index__frontpanel\\">\\n      <span class={index__text_wrapper}>\\n        <span class={index__text_minutes}>\\n          {\`\${timeEnded ? '-' : ''}\${stringifyIntWithTwoDigits(minutes)}\`}\\n        </span>\\n        <span class=\\"index__text_separator\\">:</span>\\n        <span class={index__text_seconds}>\\n          {stringifyIntWithTwoDigits(seconds)}\\n        </span>\\n      </span>\\n    </div>\\n  </div>\\n  <div class=\\"toast__wrapper\\" on:click|stopPropagation>\\n    <SvelteToast />\\n  </div>\\n  <div class=\\"pip__wrapper\\" on:click|stopPropagation>\\n    <video id=\\"pip-streamer\\" autoplay></video>\\n  </div>\\n</div>\\n\\n<style>\\n  :global(body) {\\n    margin: 0;\\n    padding: 0;\\n    font-family: 'Nunito Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif;\\n  }\\n\\n  .pip__wrapper {\\n    position: fixed;\\n    bottom: 42px;\\n    right: 42px;\\n    width: 300px;\\n    height: 150px;\\n    z-index: -1;\\n    background-color: rgba(0, 0, 0, 0.5);\\n  }\\n\\n  .toast__wrapper {\\n    --toastWidth: 420px;\\n    --toastContainerTop: auto;\\n    --toastContainerLeft: 42px;\\n    --toastContainerBottom: 42px;\\n    max-width: 400px;\\n  }\\n\\n  .index__container {\\n    display: flex;\\n    position: relative;\\n    overflow: hidden;\\n    height: 100vh;\\n    width: 100%;\\n    text-align: center;\\n    background-color: #37056b;\\n  }\\n\\n  .index__subcontainer {\\n    position: absolute;\\n    height: 100vh;\\n    width: 100%;\\n  }\\n\\n  .index__frontpanel {\\n    display: flex;\\n    align-items: center;\\n    height: 100%;\\n  }\\n\\n  .index__text_minutes {\\n    position: absolute;\\n    color: #979899;\\n  }\\n\\n  .index__text_separator {\\n    position: absolute;\\n    transform: translate(-50%, 0);\\n  }\\n</style>\\n"],"names":[],"mappings":"AAmVU,IAAI,AAAE,CAAC,AACb,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,CAAC,CACV,WAAW,CAAE,aAAa,CAAC,CAAC,gBAAgB,CAAC,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC,CAAC,UAAU,AAC5E,CAAC,AAED,aAAa,cAAC,CAAC,AACb,QAAQ,CAAE,KAAK,CACf,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,OAAO,CAAE,EAAE,CACX,gBAAgB,CAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,AACtC,CAAC,AAED,eAAe,cAAC,CAAC,AACf,YAAY,CAAE,KAAK,CACnB,mBAAmB,CAAE,IAAI,CACzB,oBAAoB,CAAE,IAAI,CAC1B,sBAAsB,CAAE,IAAI,CAC5B,SAAS,CAAE,KAAK,AAClB,CAAC,AAED,iBAAiB,cAAC,CAAC,AACjB,OAAO,CAAE,IAAI,CACb,QAAQ,CAAE,QAAQ,CAClB,QAAQ,CAAE,MAAM,CAChB,MAAM,CAAE,KAAK,CACb,KAAK,CAAE,IAAI,CACX,UAAU,CAAE,MAAM,CAClB,gBAAgB,CAAE,OAAO,AAC3B,CAAC,AAED,oBAAoB,cAAC,CAAC,AACpB,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,KAAK,CACb,KAAK,CAAE,IAAI,AACb,CAAC,AAED,kBAAkB,cAAC,CAAC,AAClB,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,MAAM,CAAE,IAAI,AACd,CAAC,AAED,oBAAoB,cAAC,CAAC,AACpB,QAAQ,CAAE,QAAQ,CAClB,KAAK,CAAE,OAAO,AAChB,CAAC,AAED,sBAAsB,cAAC,CAAC,AACtB,QAAQ,CAAE,QAAQ,CAClB,SAAS,CAAE,UAAU,IAAI,CAAC,CAAC,CAAC,CAAC,AAC/B,CAAC"}`
};
const TEXT_COLOR = "#ffffff";
const OLX_VERDO = "#8ce563";
const OLX_LARANJO = "#f28000";
const UNSELECTED_TEXT_COLOR = "#999999";
const BLINK_COLOR = "#e22828";
const Routes = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let totalTime;
  let remainingTime;
  let isRunning;
  let index__backpanel;
  let index__text_wrapper;
  let index__text_minutes;
  let index__text_seconds;
  const ssr = false;
  let minutes = 10;
  let seconds = 0;
  let initialMinutes = 10;
  let initialSeconds = 0;
  let editing = "minutes";
  let intervalReference = null;
  let timeEnded = false;
  const stringifyIntWithTwoDigits = (int) => {
    return ("0" + int).slice(-2);
  };
  const startTimer = () => {
    if (!intervalReference) {
      intervalReference = setInterval(() => {
        if (timeEnded) {
          if (seconds === 59) {
            seconds = 0;
            minutes = minutes + 1;
          } else {
            seconds = seconds + 1;
          }
        } else {
          if (seconds === 0) {
            const shouldTimeEnded = !!intervalReference && minutes === 0;
            seconds = shouldTimeEnded ? 0 : 59;
            minutes = shouldTimeEnded ? 0 : minutes - 1;
            timeEnded = shouldTimeEnded;
            if (shouldTimeEnded) {
              toast.push({
                ...toastDefaultOptions,
                msg: "Acaou o tempo, mas fica! Vai ter bolo! \u{1F370}"
              });
            }
          } else {
            seconds = seconds - 1;
          }
        }
      }, 1e3);
      initialMinutes = minutes;
      initialSeconds = seconds;
    }
  };
  const pauseTimer = () => {
    clearInterval(intervalReference);
    intervalReference = null;
  };
  const resetTimer = () => {
    clearInterval(intervalReference);
    intervalReference = null;
    timeEnded = false;
    minutes = initialMinutes;
    seconds = initialSeconds;
  };
  const toggleEdit = (_editing) => {
    editing = _editing;
    console.log(`now editing ${editing}`);
  };
  const updateMinutes = (_shouldIncrement) => {
    if (minutes < 99 && minutes > 0) {
      minutes = _shouldIncrement ? minutes + 1 : minutes - 1;
    } else if (minutes <= 0 && _shouldIncrement) {
      minutes = minutes + 1;
      timeEnded = false;
    } else if (minutes === 99 && !_shouldIncrement) {
      minutes = minutes - 1;
    }
  };
  const updateSeconds = (_shouldIncrement) => {
    if (seconds < 59 && seconds > 0) {
      seconds = _shouldIncrement ? seconds + 1 : seconds - 1;
    } else if (seconds === 0 && _shouldIncrement) {
      seconds = seconds + 1;
    } else if (seconds === 59 && !_shouldIncrement) {
      seconds = seconds - 1;
    }
  };
  const setDemoPreset = (m) => {
    minutes = m;
    initialMinutes = m;
    seconds = 0;
    initialSeconds = 0;
    timeEnded = false;
  };
  let xDown = null;
  let yDown = null;
  const BACKPANEL_COLOR = Math.random() < 0.5 ? OLX_LARANJO : OLX_VERDO;
  const toastDefaultOptions = {
    duration: 4200,
    reversed: true,
    intro: {y: 42}
  };
  onMount(async () => {
    document.addEventListener("keyup", (event) => {
      const {key} = event;
      if (key === " " || key === "Enter") {
        intervalReference ? pauseTimer() : startTimer();
      } else if (key === "ArrowRight") {
        toggleEdit("seconds");
      } else if (key === "ArrowLeft") {
        toggleEdit("minutes");
      } else if (key === "ArrowUp") {
        editing === "minutes" ? updateMinutes(true) : updateSeconds(true);
      } else if (key === "ArrowDown") {
        editing === "minutes" ? updateMinutes(false) : updateSeconds(false);
      } else if (key === "r" || key === "R") {
        resetTimer();
      } else if (key === "1") {
        setDemoPreset(5);
      } else if (key === "2") {
        setDemoPreset(10);
      } else if (key === "3") {
        setDemoPreset(15);
      } else if (key === "4") {
        setDemoPreset(20);
      } else if (key === "b") {
        toast.push({
          ...toastDefaultOptions,
          msg: "Fica! Vai ter bolo! \u{1F370}"
        });
      } else if (key === "s") {
        navigator.mediaDevices.getDisplayMedia({
          audio: false,
          video: {width: 300, height: 150}
        }).then((stream) => {
          console.log("started stream! \u{1F389}");
          const pipStreamer = document.getElementById("pip-streamer");
          pipStreamer.srcObject = stream;
        }).catch((err) => {
          console.log("Error in pip stream: ", err);
          toast.push({
            ...toastDefaultOptions,
            msg: "Erro entrando no PIP"
          });
        });
      } else if (key === "p") {
        if (document.pictureInPictureElement) {
          document.exitPictureInPicture();
        } else {
          if (document.pictureInPictureEnabled) {
            const pipStreamer = document.getElementById("pip-streamer");
            pipStreamer.requestPictureInPicture();
          }
        }
      }
    });
    document.addEventListener("click", () => {
      console.log("click!");
      if (intervalReference) {
        pauseTimer();
      } else {
        startTimer();
      }
    });
    document.addEventListener("dblclick", () => {
      console.log("dblclick!");
      if (intervalReference) {
        resetTimer();
      } else {
        startTimer();
      }
    });
    document.addEventListener("touchstart", (e) => {
      console.log("touch start!");
      const firstTouch = e.touches[0];
      console.log("first touch X ", firstTouch.clientX, " former X ", xDown);
      console.log("first touch Y ", firstTouch.clientY, " former Y ", yDown);
      xDown = firstTouch.clientX;
      yDown = firstTouch.clientY;
    }, false);
    document.addEventListener("touchmove", (evt) => {
      console.log("touch move!");
      if (!xDown || !yDown) {
        return;
      }
      var xUp = evt.touches[0].clientX;
      var yUp = evt.touches[0].clientY;
      var xDiff = xDown - xUp;
      var yDiff = yDown - yUp;
      if (Math.abs(xDiff) > Math.abs(yDiff)) {
        if (xDiff > 0) {
          toggleEdit("seconds");
        } else {
          toggleEdit("minutes");
        }
      } else {
        if (yDiff > 0) {
          editing === "minutes" ? updateMinutes(false) : updateSeconds(false);
        } else {
          editing === "minutes" ? updateMinutes(true) : updateSeconds(true);
        }
      }
      xDown = null;
      yDown = null;
    }, false);
    const firsToastTime = 420;
    setTimeout(() => {
      toast.push({
        ...toastDefaultOptions,
        msg: 'Para come\xE7ar ou pausar<br/> Use "Enter", "Barra de espa\xE7o" ou "clique/toque"'
      });
    }, firsToastTime);
    setTimeout(() => {
      toast.push({
        ...toastDefaultOptions,
        duration: 5500,
        msg: "Para editar, <strong>primeiro pause</strong>,<br/>ent\xE3o use as setas no teclado, swipe no celular<br/>ou no teclado os atalhos 1, 2, 3 ou 4"
      });
    }, firsToastTime + toastDefaultOptions.duration);
  });
  onDestroy(() => toast.pop(0));
  if ($$props.ssr === void 0 && $$bindings.ssr && ssr !== void 0)
    $$bindings.ssr(ssr);
  $$result.css.add(css$1);
  totalTime = initialMinutes * 60 + initialSeconds;
  remainingTime = minutes * 60 + seconds;
  isRunning = !!intervalReference;
  index__backpanel = css$4`
    display: flex;
    position: absolute;
    height: 100%;
    width: 100%;
    background-color: ${BACKPANEL_COLOR};
    top: 0;
    left: 0;
    right: 0;
    left: 0;
    transform: ${isRunning && !timeEnded ? `scale(1, ${remainingTime / totalTime})` : "scale(1,0)"};
    transform-origin: 50% 100%;
    transition: transform 1s, background 1s;
  `;
  index__text_wrapper = css$4`
    text-align: center;
    margin-right: auto;
    margin-left: auto;
    font-weight: 600;
    color: ${TEXT_COLOR};
    height: 1em;
    font-size: 25.5vw;
    position: absolute;
    left: 50%;
    margin-top: -0.1em;
    @keyframes pink-blink {
        0% {color: white;}
        50% {color: ${BLINK_COLOR};}
      100%{color: white;}
    }
    ${timeEnded && isRunning ? "animation: pink-blink 1s steps(5, start) infinite;" : ""}
  `;
  index__text_minutes = css$4`
    position: absolute;
    color: ${!isRunning && editing === "seconds" ? UNSELECTED_TEXT_COLOR : ""};
    right: 0.15em;
  `;
  index__text_seconds = css$4`
    position: absolute;
    color: ${!isRunning && editing === "minutes" ? UNSELECTED_TEXT_COLOR : ""};
    left: 0.15em;
  `;
  return `


${$$result.head += `${$$result.title = `<title>timer</title>`, ""}<meta name="${"description"}" content="${"Este \xE9 um contador de minutos visual usado para ajudar em reuni\xF5es."}" data-svelte="svelte-c9e3kw">`, ""}

<div class="${"index__container svelte-ie27fv"}"><div class="${escape(null_to_empty(index__backpanel)) + " svelte-ie27fv"}"></div>
  <div class="${"index__subcontainer svelte-ie27fv"}"><div class="${"index__frontpanel svelte-ie27fv"}"><span class="${escape(null_to_empty(index__text_wrapper)) + " svelte-ie27fv"}"><span class="${escape(null_to_empty(index__text_minutes)) + " svelte-ie27fv"}">${escape(`${timeEnded ? "-" : ""}${stringifyIntWithTwoDigits(minutes)}`)}</span>
        <span class="${"index__text_separator svelte-ie27fv"}">:</span>
        <span class="${escape(null_to_empty(index__text_seconds)) + " svelte-ie27fv"}">${escape(stringifyIntWithTwoDigits(seconds))}</span></span></div></div>
  <div class="${"toast__wrapper svelte-ie27fv"}">${validate_component(SvelteToast, "SvelteToast").$$render($$result, {}, {}, {})}</div>
  <div class="${"pip__wrapper svelte-ie27fv"}"><video id="${"pip-streamer"}" autoplay></video></div>
</div>`;
});
var index = /* @__PURE__ */ Object.freeze({
  __proto__: null,
  [Symbol.toStringTag]: "Module",
  "default": Routes
});
export {init, render};
